<app-menu></app-menu>

<main class="lancamento-root">

  <section class="hero">
    <iframe
      src="https://www.youtube-nocookie.com/embed/vQsryuNmsL0?controls=0&autoplay=1&mute=1&loop=1"
      allowfullscreen>
    </iframe>
  </section>

  <section class="cars">
    <ul class="modelcars">
      <li *ngFor="let car of cars; index as i">
        <img [src]="car.image" class="photocar" />

        <div class="infocar">
          <input class="checkbox-car" class="checkbox-car" class="checkbox-car"
            type="checkbox"
            class="checkbox"
            [checked]="isSelected(i)"
            (change)="toggleSelection(i)"
          />

          <div class="info">
            <span class="textmodel">{{ car.model }}</span>
            <span class="textprice">{{ formatCurrency(car.price) }}</span>
          </div>
        </div>
      </li>
    </ul>

    <!-- BOTÕES SUPERIORES -->
    <div class="controls">
      <button
        class="btn-compare"
        (click)="showCompare()"
        [disabled]="selected.length < 2">
        Comparar
      </button>

      <button
        class="btn-clear"
        (click)="clearSelection()"
        [disabled]="selected.length === 0">
        Limpar
      </button>
    </div>
  </section>

  <!-- TABELA DE COMPARAÇÃO -->
  <section class="compare" *ngIf="compareOpen && selected.length === 2">
    <div class="compare-card">

      <table>
        <tr class="header">
          <td></td>
          <td>
            <!-- ALTERAÇÃO AQUI: Envolver imagem e nome em uma div para melhor controle de layout -->
            <div class="car-header-content">
              <img [src]="cars[selected[0]].image">
              <strong>{{ cars[selected[0]].model }}</strong>
            </div>
          </td>
          <td>
            <!-- ALTERAÇÃO AQUI: Envolver imagem e nome em uma div para melhor controle de layout -->
            <div class="car-header-content">
              <img [src]="cars[selected[1]].image">
              <strong>{{ cars[selected[1]].model }}</strong>
            </div>
          </td>
        </tr>

        <tr>
          <td>Preço</td>
          <td>{{ formatCurrency(cars[selected[0]].price) }}</td>
          <td>{{ formatCurrency(cars[selected[1]].price) }}</td>
        </tr>

        <tr>
          <td>Motor</td>
          <td>{{ cars[selected[0]].motor }}</td>
          <td>{{ cars[selected[1]].motor }}</td>
        </tr>

        <tr>
          <td>Potência</td>
          <td>{{ cars[selected[0]].potencia }} cv</td>
          <td>{{ cars[selected[1]].potencia }} cv</td>
        </tr>

        <tr>
          <td>Capacidade de carga</td>
          <td>{{ cars[selected[0]].capacidadeCarga }} kg</td>
          <td>{{ cars[selected[1]].capacidadeCarga }} kg</td>
        </tr>

        <tr>
          <td>Volume da caçamba</td>
          <td>{{ cars[selected[0]].volumeCacamba }} L</td>
          <td>{{ cars[selected[1]].volumeCacamba }} L</td>
        </tr>
      </table>

    </div>
  </section>

</main>

<app-footer></app-footer>
